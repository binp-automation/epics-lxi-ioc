#
# Simple database and stream protocol file for Keysight 53220A Frequency Counter
#

record(stringin, "$(P):$(R):IDN")
{
    field(DESC, "SCPI identification string")
    field(DTYP, "stream")
    field(INP,  "@devFC.proto getIDN(39) $(PORT) $(A)")
    field(PINI, "YES")
}

record(stringin, "$(P):$(R):START")
{
    field(DESC, "SCPI measure frequency")
    field(DTYP, "stream")
    field(INP,  "@devFC.proto start() $(PORT) $(A)")
    field(PINI, "YES")
}

record(stringin, "$(P):$(R):TER")
{
    field(DESC, "SCPI Reset")
    field(DTYP, "stream")
    field(INP,  "@devFC.proto ter() $(PORT) $(A)")
}

record(bo, "$(P):$(R):RST")
{
    field(DESC, "SCPI Reset")
    field(DTYP, "stream")
    field(OUT,  "@devFC.proto cmd(*RST) $(PORT) $(A)")
}

record(stringin, "$(P):$(R):WAVESTR")
{
    field(DESC, "SCPI waveform")
    field(DTYP, "stream")
    field(INP,  "@devFC.proto wavestr() $(PORT) $(A)")
}

record(waveform, "$(P):$(R):WAVE")
{
    field(DESC, "SCPI waveform")
    field(DTYP, "stream")
    field(INP,  "@devFC.proto wave() $(PORT) $(A)")
    field(NELM, "1000")
    field(FTVL, "DOUBLE")
    field(PINI, "YES")
    field(SCAN, "5 second")
}
